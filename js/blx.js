let blx=(()=>{let oe="V1.39 / 08.10.2025",se="(C)JoEmbedded.de",a="";function P(){let t=(navigator.userAgent||"").toLowerCase();var e=(navigator.vendor||"").toLowerCase(),a=e=>t.includes(e),n=e=>(t.match(e)?.[1]||"").replace(/_/g,".");let i="Unknown Browser",r=n(/version\/([\d.]+)|(?:firefox|chrome|safari|edg|opera|opr)\/([\d.]+)/);return a("edg/")?(i="Edge (Chromium)",r=n(/edg\/([\d.]+)/)):a("edge/")?(i="Edge (Legacy)",r=n(/edge\/([\d.]+)/)):a("opr/")||a("opera")?(i="Opera",r=n(/(?:opr|opera)\/([\d.]+)/)):a("vivaldi")?(i="Vivaldi",r=n(/vivaldi\/([\d.]+)/)):a("samsungbrowser")?(i="Samsung Internet",r=n(/samsungbrowser\/([\d.]+)/)):a("qqbrowser")||a("mqqbrowser")?(i="QQBrowser",r=n(/qqbrowser\/([\d.]+)/)||n(/mqqbrowser\/([\d.]+)/)):a("ucbrowser")?(i="UC Browser",r=n(/ucbrowser\/([\d.]+)/)):a("maxthon")?(i="Maxthon",r=n(/maxthon\/([\d.]+)/)):a("puffin")?(i="Puffin",r=n(/puffin\/([\d.]+)/)):a("yabrowser")||a("yandex")?(i="Yandex Browser",r=n(/yabrowser\/([\d.]+)/)||n(/yandex\/([\d.]+)/)):a("metasr")||a("se ")||a("sogou")?(i="Sogou Explorer",r=n(/se[/\s]([\d.]+)/)||n(/sogou\/([\d.]+)/)):void 0!==navigator.brave?(i="Brave",r=n(/chrome\/([\d.]+)/)||""):a("firefox")||"undefined"!=typeof InstallTrigger?(i="Firefox",r=n(/(?:firefox|fxios)\/([\d.]+)/)):a("crios")?(i="Chrome (iOS)",r=n(/crios\/([\d.]+)/)):a("chrome")&&!a("edg")&&!a("opr")&&e.includes("google")?(i="Chrome",r=n(/chrome\/([\d.]+)/)):e.includes("apple")&&a("safari")||a("iphone")||a("ipad")?(i="Safari",r=n(/version\/([\d.]+)/)):a("android")&&a("wv")&&(i="Android WebView",r=n(/version\/([\d.]+)/)),i+(r?` (${r})`:"")}async function U(t=1){return new Promise(e=>setTimeout(e,t))}let o=3988292384;function le(t){let a=4294967295;for(let e=0;e<t.length;e++){a=(a^t[e])>>>0;for(let e=0;e<8;e++)1&a?a=a>>>1^o:a>>>=1}return a>>>0}let K={},b=!1,V,ce="5c170001-b5a3-f393-e0a9-a37f42997c22",c="5c170002-b5a3-f393-e0a9-a37f42997c22",d="5c170003-b5a3-f393-e0a9-a37f42997c22",W,R,f,z=!1,de=!1,G="",q=!1,E,H=!1,m=!1,X=0,w,u="?",Y={total:0,incnew:0,max:-1,mode:0},C=!1,p=0,fe=3,v=16,g=17,O=32,x=33,I=34,A=35,D=36,T=1e4,N="unknown.dat",h,F,B,_,M,L,y,k,S,ue,ve,$,Re=20,ge=40,be,me,we=!1,pe=!1,j="3",he="15",J;function ye(){R=void 0,f=void 0,z=!1,b=!1,de=!1,q=!1,E=void 0,!(H=!1)===m&&"R"!==u?(ie("Disconnected while Busy('"+u+"')"),X="ERROR: Disconnected ('"+u+"')"):ie("Disconnected"),m=!1,V&&(void 0!==W?V("CON",1,"Reconnectable"):V("CON",0,"Disconnected"))}function ke(e){var e=new Uint8Array(e.target.value.buffer),r=e.length;if(r<2)ie("ERROR(Data): NUS RX blocklen: "+r),console.log(e);else{var o=e[0];if(o+2!==r)ie("ERROR(Data): NUS RX blocklen/dlen(0): "+r+"/"+o),console.log(e);else{var s,r=e[1],l=e.subarray(2);let a,n,i,t;switch(r){case A:if(He(),"~"===(a=(new TextDecoder).decode(l)).charAt(0)&&1<a.length)switch(a.charAt(1)){case"G":n=parseInt(a.substring(3)),(i=parseInt(a.substring(a.indexOf(" "))))?ie("Get "+n+" Bytes from Position "+i):ie("Get "+n+" Bytes"),y=n,S=0,k=new Uint8Array(n),ue=Date.now(),ve=ue-1e3;break;case"A":E=a.substring(3);break;case"D":n=parseInt(a.substring(a.indexOf("DS:")+3)),i=parseInt(a.substring(a.indexOf("DA:")+3)),t=new Date(1e3*parseInt(a.substring(a.indexOf("DF:")+3))),ie("Disksize: "+(n/1024).toFixed(0)+" kB / Available: "+(i/1024).toFixed(0)+" kB Formated: ["+t.toLocaleDateString()+" "+t.toLocaleTimeString()+"]"),K.disk={},K.disk.diskSize=n,K.disk.available=i,K.disk.formated=t,K.disk.files=[],b=!0;break;case'"':{n=a.lastIndexOf('"');var c=a.substring(2,n),d=a.substring(n),f=(n=parseInt(d.substring(d.indexOf("L:")+2)),i=parseInt(d.substring(d.indexOf("CR:")+3),16),t=new Date(1e3*parseInt(d.substring(d.indexOf("T:")+2))),d.indexOf("UC ")),d=d.indexOf("ES ");let e=0<f?" (Unclosed)":"";isNaN(i)||(e+=" CRC: "+i.toString(16).toUpperCase()),0<d&&(e+=" ExtSync"),ie(' - "'+c+'" Len: '+n+" Bytes"+e+" ["+t.toLocaleDateString()+" "+t.toLocaleTimeString()+"]");var u=[];u.fname=c,u.len=n,u.crc32=i,u.date=t,u.ucl_flag=Boolean(0<f),u.esync_flag=Boolean(0<d),K.disk.files.push(u),b=!0}break;case"X":pe?(ie("Keep Connection Ping..."),Q("")):(ie("WARNING: Connection Auto-Disconnect soon"),V&&V("WARN",1,"Connection Auto-Disconnect soon"));break;case"e":n=parseInt(a.substring(3));c=a.substring(a.indexOf(" ")+1);i=parseInt(c),0<n&&0<i?(f=2e3<p?p-2e3:0,i>f&&(p=i+2e3),0<c.indexOf(" ")?(t=parseInt(c.substring(c.indexOf(" ")+1)),ie("Measure ("+n+" Channels in "+i+" msec) Modemstate: "+t)):ie("Measure ("+n+" Channels in "+i+" msec)")):ie("Measure..."),V&&(V("MEAS_CH",n,"Channels"),V("MEAS_T",i,"msec"));break;case"H":case"#":{d=parseInt(a.substring(2));let e=a.substring(a.indexOf(" ")+1).trim();isNaN(d)?(ie("Warning: "+e),V&&V("MEAS_V","Warning",e)):(ie("("+(u=90<=d?"H"+d:d)+")"+e),V&&V("MEAS_V",u,e))}break;case"h":ie("Alarmbits: "+(n=parseInt(a.substring(3))));break;case"@":f=a.substring(2).trim().split(" ");if(n=(parseInt(f[0])/1e3).toFixed(0),p=1e3*n,2<f.length&&"R"===f[1]){let e=(parseInt(f[2])/1e3).toFixed(0);ie("Wait max. "+n+" secs, then Reconnect"),V&&V("RECON",0,{wait:n,reconnect:e})}else ie("Wait max. "+n+" secs");break;case"!":ie("Info(M): "+(n=a.substring(2))),V&&V("INFO",0,n);break;case"M":n=parseInt(a.substring(2));c=a.substring(a.indexOf(" ")+1);i=parseInt(c),ie("Motion("+n+" Cnt), Measure in "+i+" secs"),re(100,.3,.2),re(99,.3,.2);break;case"Z":switch(n=parseInt(a.substring(2)),t=a.indexOf(" "),(i=0)<t&&(d=a.substring(t+1),i=parseInt(d)),n){case 1:2<i?ie("Info: Measure (max. "+i+" sec)"):ie("Info: Measure");break;case 9:ie("Info: Internet in "+i+" sec");break;case 10:ie("Info: Internet Transfer...");break;case 11:i?ie("Info: Internet Transfer Error:"+i):ie("Info: Internet Transfer OK")}V&&V("BZY",n,i);break;case"p":V&&V("PPMETA",a.substring(2));break;default:ie("ERROR: '"+a+"' ???")}else{let e=a.trim();V&&V("MSG",0,e),m?ie("Reply: '"+e+"'"):H?ie("Modem: '"+e+"'"):ie("Info: '"+e+"'")}break;case x:if(He(),"~"===(a=(new TextDecoder).decode(l)).charAt(0)&&1<a.length)switch(a.charAt(1)){case"B":b=!0,K.deviceMAC="(UNKNOWN)",0<(t=a.indexOf(" "))?16===(i=a.substring(t+1)).length?(ie("Device MAC:"+i),K.deviceMAC=i):X="ERROR: Invalid MAC":X="ERROR: No MAC",(n=parseInt(a.substring(3)))>=Re&&n<250?(ie("BLE Blocksize: "+(be=n)+" Bytes"),n<ge&&(ie("WARNING: Small BLE Blocksize!"),V)&&V("WARN",2,"Small BLE Blocksize!")):X="ERROR: BLE Blocksize: "+n;break;case"C":n=parseInt(a.substring(3)),J=n,0<(t=a.indexOf(" "))?1<(i=parseInt(a.substring(t+1)))?X="ERROR: Connection Speed: ("+n+"): "+i:ie("Connection Speed: "+(50<n?"Standard (":"Fast (")+n+")"):X="ERROR: Connection Speed";break;case"T":{n=parseInt(a.substring(3));var v=new Date(1e3*n);let e=(Date.now()/1e3-n).toFixed(0),t;var R=a.substring(a.indexOf(" ")+1);i=parseInt(R),t=864e3<e||e<-864e3?" (Warning: DeviceTime Lost!)":" (Delta to App: "+(e=e<=1&&-1<=e?0:e)+" sec)",i&&(t+="(Run: "+(i/86400).toFixed(1)+" d)"),K.deltaToApp=e,ie("Time: ["+v.toLocaleDateString()+" "+v.toLocaleTimeString()+"] "+t)}break;case"V":R=a.split(" ");n=parseInt(a.substring(3)),i=parseInt(R[1]),t=new Date(1e3*parseInt(R[2])),K.deviceType=n,K.firmwareVersion=(i/10).toFixed(1),K.firmwareBuilt=t.toUTCString(),K.cpu=-1,3<R.length&&(K.cpu=parseInt(R[3])),K.deviceHasInternet=0,4<R.length&&(K.deviceHasInternet=parseInt(R[4])),ie("DeviceType: "+n+" V"+K.firmwareVersion+" (Built: "+K.firmwareBuilt+") CPU:"+K.cpu),K.deviceHasInternet&&ie("Device has Internet"),q=!0;break;case"E":q=!1,X="PIN ERROR",ie("ERROR: PIN ERROR"),Xe();break;case"N":n=parseInt(a.substring(3)),i=new Date(1e3*parseInt(a.substring(a.indexOf(" ")+1))),ie("Filesize: "+n+" Bytes"),h=n,F=i;break;case"L":ie((n=parseInt(a.substring(3)))+" Bytes transferred");break;case"P":ie("File Ready"),C=!0;break;case"I":ie("Memory Ready"),C=!0;break;case"K":break;default:ie("ERROR: '"+a+"' ???"),X=a}else ie("End: '"+a+"' (Runtime: "+(Date.now()-w).toFixed(0)+" msec)"),a.startsWith("ERR")&&(X=a);m=!1,H=!1;break;case O:switch((a=(new TextDecoder).decode(l)).charAt(0)){case"R":(n=parseInt(a.substring(2)))<-199&&0<=n?(me="[NoSignal]",n=-200):me=n,we&&ie("Signal (dBm):"+me),Ge&&(199<(s=-n)?re(30,.2,.3):(s<30&&(s=30),re(100*Math.pow(2,(100-s)/12),.5,.15))),V&&V("RSSI",n," dBm");break;case"V":n=a.substring(3),V&&V("VSENS",n,a.charAt(1));break;default:ie("Info: '"+a+"'")}break;case I:if(n=y-S,l.length>n)X="ERROR: Too many data";else{k.set(l,S),S+=o;var g=Date.now();if(1e3<g-ve&&(n=(S/y*100).toFixed(0),V&&V("PROG",n,"%"),ie("Get: "+n+"% / "+S+" Bytes"),ve=g),0===(n=y-S)){let e=Date.now()-ue;e||e++;g=(S/e*1e3).toFixed(0);ie("Get OK ("+e/1e3+" sec, "+g+" Bytes/sec)"),V&&V("GET_OK",g,"Bytes/sec")}}break;case D:V&&V("RADARPP",l);break;default:ie("ERROR(Data): '"+a+"'")}}}}let s=!1;async function Se(e,a,n=fe){if(s=!1,void 0===W)X="ERROR(Connect): Undefined Device";else if(null===W.name)X="ERROR(Connect): Unknown Device Name";else{e&&((K={}).advertisingName=W.name,b=!0);let t=0;for(s=!0;;){try{var i=e?"Connect":"Reconnect";ie(i+=` to '${W.name}'...`),V&&V("CON",2,i),t++;var r=await(await W.gatt.connect()).getPrimaryService(ce);R=await r.getCharacteristic(c),await(f=await r.getCharacteristic(d)).startNotifications(),f.addEventListener("characteristicvaluechanged",ke),ie("Connected"),z=!0,V&&V("CON",3,"Connected, Identify..."),t=n,X=0}catch(e){ie("RETRY(Connect("+t+"), Reason: '"+e.message.substring(0,40)+"...')"),X="ERROR(Connect("+t+")): '"+e.message+"'"}if(t>=n||!1===s)break;var o="Failed, Retry to connect ("+(n-t+1)+" left)...";V&&V("WARN",5,o),ie(o)}s=!1,z&&(a&&await Ne(!1),await Z(),!0===q)&&Ye(500)}}async function Ee(){if(b){b=!1;var e=K.deviceMAC+"_#BlxIDs";try{await blStore.set(e,K)}catch(e){X="ERROR(CheckIDs): "+e}}}async function Q(e,t=T){if(!0===m)console.warn("*** BLX BUSY (Since "+(Date.now()-w).toFixed(0)+" msec) ***");else{if(!0!==z){if(void 0===W)return void(X="ERROR(DeviceCmd): Not Connected!");if(await Se(0,1),X)return}!1===(H=e.startsWith("#")?!0:H)&&(m=!0),u=e,w=Date.now();var[e,a=v]=[e],n=e.length,i=new Uint8Array(n+2),r=i.subarray(2),n=(i[0]=n,i[1]=a,(new TextEncoder).encodeInto(e,r));if(void 0!==n)try{R.writeValue(i.buffer)}catch(e){let t;t=!1===z?"Connection lost":e,X="ERROR(DeviceSend): "+t}if(await 0,!1===H){a=t;for(p=a;!0===m;)if(await U(10),(p-=10)<0){X="ERROR(DeviceCmd): Timeout ('"+u+"')";break}await 0,m=!1}}}function Ce(t){let a=-1;for(let e=0;e<K.disk.files.length;e++)if(K.disk.files[e].fname===t){a=e;break}return a<0?(X="ERROR(Cmd): File not in Directory",-1):a}async function Oe(a,n=!0){var i=a[1];if(void 0===i||i.length<1||21<i.length)X="ERROR(Cmd): Filename";else if(void 0===K.disk||void 0===K.disk.files)X="ERROR(Cmd): No Disk Info";else{var r=Ce(i);if(!(r<0||(h=-1,N=i,$=void 0,await Q("N:"+i),X)))if(h<0)X="ERROR(SysCmd): No File";else if(ie('Get File "'+i+'": Total Len: '+h+" Bytes"),h!==K.disk.files[r].len)X="ERROR(SysCmd): File Size changed";else if(K.disk.files[r].date.getTime()!==F.getTime())X="ERROR(SysCmd): File Date changed";else{B=K.disk.files[r].crc32,_=K.disk.files[r].ucl_flag,M=K.disk.files[r].esync_flag;let e=h,t=0;a[2]&&(t=parseInt(a[2]),e=a[3]?parseInt(a[3]):h-t),t<0||e<1||t+e>h?X="ERROR(SysCmd): Out of range of File":(L=t,V&&V("GET",e,i),await Fe(t,e,n),X||(async()=>{if(void 0!==S&&S)if(void 0===k||k.length!==y)X="ERROR(Store): Inconsistent Data";else{var e=K.deviceMAC+"_"+N,t=[];t.total_len=h,t.pos0=L,t.akt_len=y,t.ctime=F,t.crc32=B,t.ucl_flag=_,t.esync_flag=M,t.bytebuf=k,t.tssync=void 0;try{await blStore.set(e,t)}catch(e){return X="ERROR(Store): "+e}ie("Save to Store '"+e+"'"),k=void 0,$=e}else X="ERROR(Store): No Data to store"})())}}}async function xe(e,t){var a,n,i=Ce(e);if(0<=i){if(await blStore.get(K.deviceMAC+"_"+e),void 0===(a=blStore.result())||!0===t)await Oe([0,e],!1),X;else if(0<(t=K.disk.files[i].len-a.v.akt_len)&&(V&&V("GET",t,e),ie('Get File (Missing Part) "'+e+'": Len: '+t+" Bytes"),i=e,e=a.v.akt_len,n=t,h=-1,N=void 0,$=void 0,await Q("N:"+i),await(!X&&!(h<0?X="ERROR(SysCmd): No File '"+i+"'":(B=0,_=!0,M=!1,await Fe(L=e,h=n,!1)))),!X))if(k.length!==t)X="ERROR(upload): Read Len";else{(i=new Uint8Array(a.v.bytebuf.length+t)).set(a.v.bytebuf),i.set(k,a.v.bytebuf.length),a.v.bytebuf=i,a.v.total_len+=t,a.v.akt_len+=t,a.v.tssync=void 0;try{await blStore.set(a.k,a.v)}catch(e){X="ERROR(upload): "+e}}}else X=""}async function Z(){for(let e=0;e<3&&(await U(1e3),J=-1,void 0===R?X="Disconnected":await Q("CS",32e3),!X)&&!(0<J);e++);}async function ee(){for(let e=0;e<4&&(await U(1e3),J=-1,await Q("C"+j,32e3),!X)&&!(J<=50);e++){var t=parseInt(j);if(isNaN(t))break;0<e&&(j=(++t).toString())}}async function Ie(e){ie("Command-File Start");var t=e.replace(/\r/g,"").trim().split(/\n/);for(let e=0;e<t.length;e++){var a=t[e];if(He(),a.startsWith("//"))ie(a);else if(!(a.length<1)){if(await $e(a),X)break;if(!0===m){X="*** BLX BUSY (Since "+(Date.now()-w).toFixed(0)+" msec) ***";break}}}X?Xe():Ye(1e3,.2),ie("Command-File Done")}async function Ae(e,t=!0){var a=Ce(e),n=(await blStore.get(K.deviceMAC+"_"+e),blStore.result());a<0?(void 0!==n&&await blStore.remove(n.k),X="ERROR(identify): No File '"+e+"' on Device",V&&V("WARN",3,"No File '"+e+"' on Device")):K.disk.files[a].len<=0||!0===K.disk.files[a].ucl_flag?(X="ERROR(identify): File corrupt '"+e+"' on Device",V&&V("WARN",4,"File corrupt '"+e+"' on Device")):void 0!==n&&K.disk.files[a].len===n.v.akt_len&&K.disk.files[a].crc32===n.v.crc32&&K.disk.files[a].date.getTime()===n.v.ctime.getTime()||(await Oe([0,e],t),X)||(await blStore.get(K.deviceMAC+"_"+e),void 0!==(n=blStore.result())&&K.disk.files[a].len===n.v.akt_len&&K.disk.files[a].crc32===n.v.crc32&&K.disk.files[a].date.getTime()===n.v.ctime.getTime()&&await blStore.set(K.deviceMAC+"_#BAK_"+e,n.v))}async function De(e=!1){Y={total:0,incnew:0,max:-1,mode:-1};var t=Ce("data.edt");let a=Ce("data.edt.old"),n=(await blStore.get(K.deviceMAC+"_data.edt.old"),blStore.result()),i=(await blStore.get(K.deviceMAC+"_data.edt"),blStore.result());if(void 0!==K.iparam&&(Y.mode=parseInt(K.iparam[12]),2&Y.mode?null!=K.sys_param&&(Y.max=2*parseInt(K.sys_param[17])):Y.max=K.disk.diskSize-102400),0<=a&&null!=i&&K.disk.files[a].date.getTime()===i.v.ctime.getTime()&&((n=i).k=K.deviceMAC+"_data.edt.old",n.v.tssync=void 0,i=void 0,console.log("Shift 'data.edt'->'data.edt.old'"),!0===e))try{await blStore.remove(K.deviceMAC+"_data.edt"),await blStore.set(n.k,n.v)}catch(e){return void(X="ERROR(Store): "+e)}if(null!=n&&(a<0||K.disk.files[a].date.getTime()!==n.v.ctime.getTime())&&(a=-1,!(n=void 0)===e))try{await blStore.remove(K.deviceMAC+"_data.edt.old")}catch(e){return void(X="ERROR(Store): "+e)}if(null!=i&&(t<0||K.disk.files[t].date.getTime()!==i.v.ctime.getTime())&&!(i=void 0)===e)try{await blStore.remove(K.deviceMAC+"_data.edt")}catch(e){return void(X="ERROR(Store): "+e)}0<=t&&(Y.total+=K.disk.files[t].len),0<=a&&(Y.total+=K.disk.files[a].len),Y.incnew=Y.total,null!=i&&(Y.incnew-=i.v.akt_len),null!=n&&(Y.incnew-=n.v.akt_len),X=0}async function Te(e){var n=e.split(" ");let t,a;var i,r,o,s,l,c,d=n[0].toLowerCase();if(!0===H)X='ERROR(Modem): Exit Modem Terminal ("~")!';else switch(d){case"?":ie(`Blx Terminal Version: ${oe}, `+se);break;case"q":case"quit":Ve();break;case"cls":ne=[],void 0!==ae&&(document.getElementById("blxTerminalOut").innerText="(cleared)");break;case"s":case"store":try{if(n.length<=1){await blStore.count();let i=0,r=Date.now();ie("Store: "+blStore.result()+" Items"),await blStore.iterate(function(e){a=r-e.ts,t="",86400<=(a/=1e3)&&(a-=86400*(n=Math.floor(a/86400)),t+=n+"d"),a-=3600*(n=Math.floor(a/3600)),n<10&&(t+="0"),t+=n+"h",(n=Math.floor(a/60))<10&&(t+="0"),t+=n+"m",(a-=60*n)<10&&(t+="0");var t,a,n=t+=Math.floor(a)+"s";void 0!==e.v.akt_len?(a=e.v.akt_len,i+=a,ie("'"+e.k+"' ("+n+")': "+a+" Bytes")):ie("'"+e.k+"' ("+n+")'")}),ie("Total Data: "+(i/1024).toFixed(0)+" kB")}else switch(n[1]){case"c":case"clear":await blStore.clearStore(),ie("Store cleared");break;case"r":case"remove":{let e;e=n.length<3?$:n[2],await blStore.remove(e),ie("Removed '"+e+"' from Store")}break;case"v":case"var":3===n.length?(s=n[2],await blStore.get(s),ie("Key:'"+s+"' => '"+blStore.result().v+"'")):4===n.length?(l=n[2],c=n[3],await blStore.set(l,c),ie("Set Key:'"+l+"' to:'"+c+"'")):ie("Syntax Error");break;case"l":case"list":try{let e;if(void 0===(e=n.length<3?$:n[2])){X="ERROR(Store): No Key";break}await blStore.get(e);var f=blStore.result();if(void 0===f){X="ERROR(Store): No Value for this Key";break}var u,v=(new TextDecoder).decode(f.v.bytebuf),R=v.replace(/\r/g,"").split(/\n/),g=(R.pop(),te);te<v.length+10&&(te=v.length+10),ie("List Key '"+f.k+"' Len: "+v.length+" Bytes => "+R.length+" Lines");let t=0;for(u of R)ie(t+": "+(u.length?u:"(empty)")),t++;te=g}catch(e){X="ERROR(Store): "+e}break;case"m":case"modify":try{let e;var b=n[2];if(void 0===b){X="ERROR(Store): No Index";break}var m=n[3];if(void 0===(e=n.length<5?$:n[4])){X="ERROR(Store): No Key";break}await blStore.get(e);var w=blStore.result();if(void 0===w){X="ERROR(Store): No Value for this Key";break}var p=(new TextDecoder).decode(w.v.bytebuf).replace(/\r/g,"").split(/\n/);if(p.pop(),b<0||b>p.length){X="ERROR(Store): Index Range";break}var h=p[b],M=(ie("Old: "+b+": "+(h.length?h:"(empty)")),p[b]=m,ie("New: "+b+": "+((h=p[b]).length?h:"(empty)")),new TextEncoder),y=(w.v.bytebuf=M.encode(p.join("\n")+"\n"),w.v.bytebuf.length);w.v.akt_len=y,w.v.crc32=le(w.v.bytebuf),w.v.ctime=new Date,w.v.pos0=0,w.v.total_len=y,w.v.ucl_flag=!1,w.v.tssync=void 0,await blStore.set(e,w.v)}catch(e){X="ERROR(Store): "+e}break;default:X="ERROR(Store): Unknown Cmd"}}catch(e){X="ERROR(Store): "+e}break;case"e":case"export":try{let e;e=n.length<2?$:n[1],await blStore.get(e);var k=blStore.result();if(void 0===k){X="ERROR(StoreExport): Key not found";break}var S=k;try{if(void 0!==S.v&&void 0!==S.v.total_len&&S.v.total_len){var E=S.k.lastIndexOf(".");let e="application/octet-binary";if(1<E)switch(S.k.substring(E).toLowerCase()){case".jpg":e="image/jpeg";break;case".csv":e="application/csv;charset=utf-8";break;case".pdf":e="application/pdf";break;case".txt":case".log":e="text/plain;charset=utf-8"}var L=new Blob([S.v.bytebuf],{type:e}),C=S.k;saveAs(L,C),ie("Export '"+C+"'")}else X="ERROR(Export): No Length or Empty!"}catch(e){X=`ERROR(Export): Export failed(${e})`}}catch(e){X="ERROR(StoreExport): "+e}break;case"a":case"audio":1<n.length&&(t=parseInt(n[1]),Ge=Boolean(t)),2<n.length&&(t=parseInt(n[2]),qe=Boolean(t)),ie("Audio: RSSI: "+(Ge?"ON":"OFF")+", Term: "+(qe?"ON":"OFF"));break;case"f":{let e=440,t,a;1<n.length&&(e=parseInt(n[1])),2<n.length&&(t=parseInt(n[2])),3<n.length&&(a=parseInt(n[3])),re(e,t,a),ie("Audio-Ping Frq:"+e+" Hz, (Dur: "+t+" Vol: "+a+")")}break;case"k":case"keep":1<n.length&&(t=parseInt(n[1]),pe=Boolean(t)),ie("Keep Connection: "+(pe?"ON":"OFF"));break;case"rs":case"rssi":1<n.length&&(t=parseInt(n[1]),we=Boolean(t)),ie("RSSI: "+(we?"ON":"OFF"));break;case"cf":case"connectionfast":1<n.length&&(j="f"===n[1].charAt(0).toLowerCase()?"F":((t=parseInt(n[1]))<3?t=3:30<t&&(t=30),t.toString()),2<n.length)&&((t=parseInt(n[1]))<3?t=3:30<t&&(t=30),he=t.toString());{let e;e=void 0!==J?J:"(Unknown)",ie("Fast Connection Speed: "+j+", Current: "+e),ie("Fast Memory Download Speed: "+he)}break;case"bfast":z?await ee():ie("Not Connected");break;case"bslow":z?await Z():ie("Not Connected");break;case"l":case"lines":ie("Lines: "+(te=1<n.length?parseInt(n[1]):te));break;case"sl":case"sleep":ie("Sleep: "+(t=1<n.length?parseInt(n[1]):t)+" msec..."),await U(t),ie("...OK");break;case"d":case"disconnect":!0===z?W.gatt.disconnect():X="ERROR(Cmd): Not connected!";break;case"c":case"connect":if(void 0===navigator.bluetooth)X="ERROR(Cmd): This Browser ("+P()+") does not support Bluetooth!";else{!0===z&&W.gatt.disconnect(),1<n.length&&5<n[1].length&&(G=n[1]);{let e=fe;2<n.length&&(e=parseInt(n[2])),ie("Connect: Discover Devices");try{var O=await navigator.bluetooth.requestDevice({filters:[{services:[ce]}]});(W=O).addEventListener("gattserverdisconnected",ye)}catch(e){X="ERROR(Discover): "+e}await 0,X||await Se(1,1,e)}}break;case"r":case"reconnect":if(void 0===navigator.bluetooth)X="ERROR(Cmd): This Browser ("+P()+") does not support Bluetooth!";else{1<n.length&&5<n[1].length&&(G=n[1]);{let e=fe;2<n.length&&(e=parseInt(n[2])),!0===z?X="ERROR(Cmd): Already connected!":void 0===W?X="ERROR(Cmd): Nothing to Reconnect!":await Se(0,1,e)}}break;case"i":case"identify":1<n.length&&(G=n[1]),await ee(),await Ne(),!1===de&&(X="ERROR(Cmd): identify failed!"),!0===q&&Ye(500);break;case"m":case"memory":if(await De(),!X){let e,t=(e=0<Y.max?(100*Y.total/Y.max).toFixed(2):"Unknown","???");switch(Y.mode){case 2:case 0:t="Rec.OFF";break;case 1:t="LINEAR";break;case 3:t="RING"}ie("Data(Bytes): Total:"+Y.total+"("+e+"%, "+t+"), New:"+Y.incnew)}break;case"expect":switch(n[1]?.toLowerCase()){case"type":var x=parseInt(n[2]);K.deviceType!==x?X="ERROR(expect): Device Type Error (Found: "+x+")":ie("Device Type OK");break;case"connected":!0!==z?X="ERROR(expect): Not Connected":ie("Connected OK");break;default:X="ERROR(expect): Syntax Error"}break;case"crun":if(1<n.length){k=n[1].trim();try{var I=await fetch(k,{mode:"cors"});if(!I.ok)throw new Error(" "+I.statusText+" ("+I.status+")");var A=await I.text();void 0!==A&&await Ie(A)}catch(e){Xe(),X="ERROR(crun): '"+e+"'"}}else{ie("Select Command-File (*.crun)");S=await(async e=>{var t=document.createElement("input");t.type="file";let a,n=!0;for(void 0!==e&&(t.accept=e),t.oncancel=()=>{n=!1},t.onchange=e=>{e=e.target.files[0];ie('Selected File:"'+e.name+'" Size:'+e.size+" LastModified: ["+e.lastModifiedDate.toLocaleDateString()+" "+e.lastModifiedDate.toLocaleTimeString()+"]");let t=new FileReader;t.onabort=t.onerror=function(){n=!1},t.onload=async function(){a=t.result,n=!1},t.readAsText(e)},ie("Select File or Cancel"),t.click();n;)await U(10);return a})(".crun");void 0!==S&&await Ie(S)}break;case"u":case"upload":{var[O,k=!0]=[n];let e=!1;if(1<O.length&&(e=Boolean(parseInt(O[1]))),!k||(await ee(),!X)){for(;(await Q("v",5e3),!X)&&(!0===e&&(await blStore.remove(K.deviceMAC+"_data.edt"),await blStore.remove(K.deviceMAC+"_data.edt.old")),await De(!0),!X)&&(ie("Available Data (Bytes): Total: "+Y.total+", New: "+Y.incnew),V&&(e?V("UPLOAD",Y.total,"FULL"):V("UPLOAD",Y.incnew,"INC")),await xe("data.edt",e),!X);){await xe("data.edt.old",e);break}k&&await Z()}}await 0;break;case"x":case"xtract":{let e;if(null==(e=n.length<=1?K.deviceMAC:n[1])||16!=e.length){X="ERROR(xtract): MAC Error";break}ie("Extract Data for MAC:'"+e+"' to Store");I=e,A=(await blStore.get(I+"_data.edt"),blStore.result());if(null==A)X="ERROR(xtract): No Data";else{await blStore.get(I+"_data.edt.old");var D=blStore.result();void 0!==D&&((T=new Uint8Array(A.v.bytebuf.length+D.v.bytebuf.length)).set(D.v.bytebuf),T.set(A.v.bytebuf,D.v.bytebuf.length),A.v.bytebuf=T,A.v.total_len=T.length,A.v.akt_len=T.length),A.v.crc32=0,A.v.ctime=new Date;try{await blStore.set(I+"_xtract.edt",A.v)}catch(e){X="ERROR(xtract): "+e}}await 0,X||ie("Extracted")}break;case"g":case"get":await Oe(n);break;case"p":case"put":{let e=n[1];ie("Put File (Syncflag: "+(e=void 0===e?0:e)+")"),await _e(e)}break;case"firmware":if(ie("Firmware Update"),1e3<=K.deviceType||void 0!==K.disk&&0<K.disk.diskSize){await _e(0,".sec");break}case"memput":{let e,t;if(32==K.cpu)e=294912,t=163840;else{if(40!=K.cpu){X="ERROR(memput): Unknown CPU";break}e=626688,t=356352}i=e,r=t,o="firmware"==d,(D=document.createElement("input")).type="file",D.onchange=e=>{e=e.target.files[0];ie('Selected File:"'+e.name+'" Size:'+e.size+" LastModified: ["+e.lastModifiedDate.toLocaleDateString()+" "+e.lastModifiedDate.toLocaleTimeString()+"]");let t=new FileReader;t.onload=async function(){var e=new Uint8Array(t.result);e.length?r<e.length?ie("ERROR: File too large"):(await Be(e,void 0,!1,i),X&&ie(X),ie("Calculated CRC32: "+le(e).toString(16)+"("+e.length+" Bytes)"),!0===o&&(ie("Reset Device"),await Q("R",2e3),await U(1e3),X=0)):ie("ERROR: File is empty")},t.readAsArrayBuffer(e)},ie("Select File or Cancel"),await!D.click()}break;case"fput":{var T=n[1];if(void 0===T){X="ERROR(fput): No Filename";break}var N=T.substring(0,17);let e=T.substring(17);if(17!==N.length||"_"!==N.charAt(16)||"#"===e.charAt(0)||e.length<1||21<e.length){X="ERROR(fput): Filename Error";break}try{await blStore.get(T);var F=blStore.result();if(void 0===F){X="ERROR(fput): No Value for this Key";break}var B=F.v.akt_len,_=F.v.esync_flag;if(!B){X="ERROR(fput): Empty File";break}ie("Put File ('"+N+"...') '"+e+"' from Store"),ie("(Len: "+B+" Bytes, Syncflag: "+_+")"),await Be(F.v.bytebuf,e,_)}catch(e){X="ERROR(fput): "+e}}break;case"del":void 0===(a=n[1])||a.length<1||21<a.length?X="ERROR: Filename":await Q("D:"+a,1e4);break;case"reset":ie("Reset Device"),await Q(""),X||(await Q("R",2e3),await U(1e3),X=0);break;case"t":case"time":{let e="T";"set"===n[1]&&(e+=+(Date.now()/1e3).toFixed(0)),await Q(e,5e3)}break;default:X="ERROR(SysCmd): Command unknown"}}async function Ne(t=!0){let e=fe,a=!0;var n,i,r;for(q=!1;e--;)if(await Q("~",5e3),!X){!0===a&&(await blStore.get(K.deviceMAC+"_#PIN"),void 0!==(o=blStore.result())&&o.v.length&&(G=o.v),a=!1);let e=G;if(void 0!==E){var o=parseInt(G);if(isNaN(o))return ie("INFO: "+(X="!PIN required").substring(1)),void Xe();K.devicePIN=o,e=(n=o,i=E,r=void 0,n=n.toString(16).toUpperCase().padStart(8,"0"),r=new Uint8Array(16),(new TextEncoder).encodeInto(n,r),n=new Uint8Array(16),(new TextEncoder).encodeInto(i,n),i=await window.crypto.subtle.importKey("raw",r,{name:"AES-CBC",length:128},!1,["encrypt","decrypt"]),r=new Uint8Array(16),await(await crypto.subtle.encrypt({name:"AES-CBC",iv:r},i,n).then(function(e){e=new Uint8Array(e);return new DataView(e.buffer).getUint32(0)})).toString(16))}if(await Q("/"+e,5e3),!0!==q)return await blStore.remove(K.deviceMAC+"_#PIN"),void(t&&await Z());if(!X&&(await Q("T",5e3),!X)){if(200<=K.deviceType&&K.deviceType<1e3)V&&V("MSG",1,"Sensor, No Disk");else{if(await Q("v",1e4),X)continue;await Q("Y"),X&&(ie(X),X=0),await Ae("sys_param.lxp",!1),X&&(ie(X),X=0),await Q("X"),X&&(ie(X),X=0),await Ae("iparam.lxp",!1),X&&(ie(X),X=0),K.diskCheckOK=!0,await Q("V",1e4),X&&(ie(X),X=0,K.diskCheckOK=!1)}if(t&&await Z(),!X){de=!0,V&&V("CON",4,"Full Connected"),K.lastSeen=new Date,!0===q&&G.length&&!isNaN(Number(G))&&await blStore.set(K.deviceMAC+"_#PIN",G);{let e=!1,t=!1,a=(await blStore.get(K.deviceMAC+"_iparam.lxp"),blStore.result()),n=(void 0===a&&(await blStore.get(K.deviceMAC+"_#BAK_iparam.lxp"),void 0!==(a=blStore.result()))&&(ie("INFO: 'iparam.lxp' restored"),e=!0),await blStore.get(K.deviceMAC+"_sys_param.lxp"),blStore.result());void 0===n&&(await blStore.get(K.deviceMAC+"_#BAK_sys_param.lxp"),void 0!==(n=blStore.result()))&&(ie("INFO: 'sys_param.lxp' restored"),t=!0);let i,r;void 0!==a&&(i=(new TextDecoder).decode(a.v.bytebuf),(r=i.replace(/\r/g,"").split(/\n/)).pop(),19<r.length)&&(K.iparam=r,K.iparam_dirtyflag=e),null!=n&&(i=(new TextDecoder).decode(n.v.bytebuf),(r=i.replace(/\r/g,"").split(/\n/)).pop(),18<=r.length)&&(K.sys_param=r,K.sys_param_dirtyflag=t)}await 0;break}}}}async function Fe(e,t,a=!0){a&&1e3<t&&(await ee(),X)||(await Q("G "+t+" "+e,6e5),a&&1e3<t&&await Z())}async function Be(t,e,a,n){let i=t.length,r=0;var o,s=Date.now()-1e3;let l=s;var c,d=be-2&65532;if(1e3<t.length&&(void 0===e?(he<15&&ie("*** WARNING: Memory Connection Speed: "+he),c=j,j=he,await ee(),j=c):await ee(),X))return;if(C=!1,void 0!==e)await Q("P"+(a?"!":"")+":"+e,5e3);else{{let e=n,t=i;for(;0<t;){if(await Q("K:"+e+" 1",5e3),X)return;e+=4096,t-=4096}}await Q("I:"+n,5e3)}if(!X)if(!0!==C)X="ERROR: File Send Error";else{try{for(;;){let e=i;e>d&&(e=d);var f=new Uint8Array(e+2),u=(f[0]=e,f[1]=g,t.subarray(r,r+e));if(f.set(u,2),await R.writeValue(f.buffer),i-=e,r+=e,!i){var v=Date.now()-s;ie("Transfer OK ("+v/1e3+" sec, "+(t.length/v*1e3).toFixed(0)+" Bytes/sec)");break}1e3<(o=Date.now())-l&&(l=o,ie((100*r/t.length).toFixed(0)+"% / "+r+" Bytes"))}}catch(e){return void(X=!1===z?"ERROR: Connection lost":"ERROR: Transfer "+e)}await Q("L",5e3),X||1e3<t.length&&await Z()}}async function _e(i,r){var e=document.createElement("input");e.type="file",void 0!==r&&(e.accept=r),e.onchange=e=>{let a=e.target.files[0];if(ie('Selected File:"'+a.name+'" Size:'+a.size+" LastModified: ["+a.lastModifiedDate.toLocaleDateString()+" "+a.lastModifiedDate.toLocaleTimeString()+"]"),void 0!==r&&".sec"==r){e="firmware_typ"+K.deviceType+"_";if(!a.name.startsWith(e)&&"_firmware.sec"==!a.name)return void ie(X="ERROR: No Firmware File for this Device")}let n=new FileReader;n.onload=async function(){var t=new Uint8Array(n.result);if(t.length){let e=a.name;await Be(t,e=void 0!==r&&".sec"==r?"_firmware.sec":e,i),X&&ie(X),void 0!==r&&".sec"==r&&(ie("Reset Device"),await Q("R",2e3),await U(1e3),X=0)}else ie(X="ERROR: File is empty")},n.readAsArrayBuffer(a)},ie("Select File or Cancel"),e.click()}let Me=25,te,ae,ne=[];function ie(e){for(void 0!==e?ne.push(e):ne[0]="*** BLX Terminal ***";ne.length>te;)ne.shift();void 0!==ae&&(document.getElementById("blxTerminalOut").innerText=ne.join("\n"))}function Le(e){13===e.keyCode||10===e.keycode?(e.preventDefault(),document.getElementById("blxTerminalSend").click()):27===e.keyCode&&(e.preventDefault(),document.getElementById("blxTerminalCmd").value="")}function Pe(e){void 0!==ae&&(document.getElementById("blxTerminalSend").disabled=!e)}let Ue="";async function Ke(){var e=document.getElementById("blxTerminalCmd");let t=e.value.trim();e.value="",e.focus(),ie("> "+t),Pe(!1),re(1e3,.05,.1),X=0,"*"==t&&Ue.length?t=Ue:t.length&&(Ue=t),"help"==t||"-h"==t||"/h"==t||"-?"==t||"/?"==t?(ie(`${oe} - ${se} - Browser: `+P()),ie(a)):(t.startsWith(".")?await Te(t.substring(1)):await Q(t),await Ee(),X&&(Xe(),ie(X))),Pe(!0)}function Ve(e,t,a=Me){void 0!==e?(te=a,(ae=document.getElementById(e)).innerHTML="<div id='blxTerminalOut' style='border: 1px solid var(--bleblue); margin: 6px 0; overflow:hidden;'></div><div style='display:flex; align-items: center;'><input id='blxTerminalCmd' typ='text' maxlength='120' placeholder='>' autocapitalize='none' style='flex-grow: 1; margin: 0 4px 0 2px; min-width: 16px;'><button id='blxTerminalSend'>&#10004;</button></div>",document.getElementById("blxTerminalCmd").addEventListener("keyup",Le),document.getElementById("blxTerminalSend").addEventListener("click",Ke),ie(),Pe(!0)):(void 0!==ae&&(ae.innerHTML=""),ae=void 0),void 0!==t&&(V="function"==typeof t?t:void 0)}function l(t,e){var a="@"+e;for(let e=0;e<t.length;e++)if(t[e]===a)return e;return-1}function We(e){var t=l(e,0);let a=l(e,1);e=(a=a<0?e.length:a)-t;if(t<0)throw"FATAL_ERROR: iparam defect: Channel #0 not found";if(14!=e)throw"FATAL_ERROR: iparam defect: <> 14 Parameters/Channel!";return e}function n(e,t,a){e=parseInt(e);return!!(isNaN(e)||e<t||a<e)}function i(e){e=parseFloat(e);return!!isNaN(e)}let ze=window.AudioContext||window.webkitAudioContext,r=null,Ge=!1,qe=!0;function He(){re(3e3,.04,.02)}function Xe(){re(30,.2,.3)}function Ye(e,t=.3,a=.05){re(e,t,a),re(1.259*e,t,a),re(1.498*e,t,a)}function re(e,t=.1,a=.05){var n;qe&&((n=(r=r||new ze).createOscillator()).frequency.value=e,(e=r.createGain()).gain.value=a,e.gain.exponentialRampToValueAtTime(a/5,r.currentTime+t),n.connect(e),e.connect(r.destination),n.type="square",n.start(),n.stop(r.currentTime+t))}async function $e(e,t){e=e.trim();ie("=> "+e),X=0,e.startsWith(".")?await Te(e.substring(1)):null!=t?await Q(e,t):await Q(e),await Ee(),X&&("!"===X[0]?ie("INFO: "+X.substring(1)):ie(X=X.startsWith("ERROR")?X:"ERROR: "+X),V)&&V("ERR",0,X)}var e;return"https:"!==location.protocol&&"file:"!==location.protocol&&"content:"!==location.protocol&&"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname?(e="https://"+location.hostname+location.pathname,alert("BLX-API: HTTPS required. Jump to '"+e+"'"),window.location.assign(e)):void 0===navigator.bluetooth&&alert("BLX-API: This Browser ("+P()+") does not support Bluetooth!"),{setTerminal:Ve,userSendCmd:async(e,t)=>{if(await $e(e,t),X)throw X;if(!0===m)throw new Error("*** BLX BUSY (Since "+(Date.now()-w).toFixed(0)+" msec) ***")},terminalPrint:ie,terminalGetInput:function(){return document.getElementById("blxTerminalCmd")},getDevice:()=>K,getMemory:()=>Y,getPinOK:()=>q,frq_ping:re,chordsound:Ye,getCrc32:le,IparamAddChannel:function(t,a){let e=0;var n=parseInt(t[2]);let i;for(;;){var r=l(t,e);if(r<0)break;if(e++,i=r,e>=n)return!1}var o=We(t);t.push("@"+e);for(let e=0;e<o-1;e++)!0===a&&void 0!==i?0==e?t.push("0"):t.push(t[i+e+1]):t.push("");return!0},CompactIparam:function(e){let t=0,a=0;for(;;){var n=l(e,a);if(n<0)break;0<parseInt(e[n+1])&&(t=a),a++}var i=l(e,t)+We(e);e.splice(i,999)},IparamValidate:function(e){if(e.length<19)return"300: Size ";if("@100"!==e[0])return"301: File Format (ID not '@100')";if(n(e[1],1,999999))return"302: DEVICE_TYP";if(n(e[2],1,90))return"303: MAX_CHANNELS";if(n(e[3],0,255))return"304: HK_FLAGS";if(10!==e[4].length)return"305: Cookie (10 Digits)";if(41<e[5].length)return"306: Device Name Len";if(n(e[6],10,86400))return"307: Period";if(n(e[7],0,parseInt(e[6])-1))return"308: Period Offset";if(n(e[8],0,parseInt(e[6])))return"309: Alarm Period";if(n(e[9],0,604799))return"310: Internet Period";if(n(e[10],0,parseInt(e[9])))return"311: Internet Period";if(n(e[11],-43200,43200))return"312: UTC Offset";if(n(e[12],0,255))return"313: Record Flags";if(n(e[13],0,255))return"314: HK Flags";if(n(e[14],0,255))return"315: HK Reload";if(n(e[15],0,255))return"316: Net Mode";if(n(e[16],0,255))return"317: Error Policy";if(n(e[17],-40,10))return"318: MinTemp oC";if(n(e[18],0,2147483647))return"319: Config0_U31";if(79<e[19].length)return"320: Configuration Command Len";let t=l(e,0);if(t<19)return"600: Missing #0";let a=0;for(;;){if(e.length-t<13)return"601: No of Params #"+a;if(n(e[t+1],0,255))return"602: Action #"+a;if(n(e[t+2],0,65535))return"603: PhysChan #"+a;if(8<e[t+3].length)return"604: KanCaps Len #"+a;if(n(e[t+4],0,255))return"605: SrcIndex #"+a;if(8<e[t+5].length)return"606: Unit Len #"+a;if(n(e[t+6],0,255))return"607: MemFormat #"+a;if(n(e[t+7],0,2147483647))return"608: DB_ID #"+a;if(i(e[t+8]))return"609: Offset #"+a;if(i(e[t+9]))return"610: Factor #"+a;if(i(e[t+10]))return"611: Alarm_Hi #"+a;if(i(e[t+11]))return"612: Alarm_Low #"+a;if(n(e[t+12],0,65535))return"613: MeasBits #"+a;if(32<e[t+13].length)return"614: XBytes Len #"+a;if(void 0===e[t+14])break;if(e[t+14]!=="@"+(a+1).toString())return"615: Unexpected Line #"+a;t+=14,a++}},SysParamValidate:function(e){return e.length<19?"200: Size ":"@200"!==e[0]?"201: File Format (ID not '@200')":41<e[1].length?"202: APN Len":41<e[2].length?"203: Server Len":41<e[3].length?"204: Script Len":41<e[4].length?"205: API Key Len":n(e[5],0,255)?"206: ConFlags":n(e[6],0,65535)?"207: SIM PIN":41<e[7].length?"208: User Len":41<e[8].length?"209: Password Len":n(e[9],10,255)?"210: Max_creg":n(e[10],1,65535)?"211: Port":n(e[11],1e3,65535)?"212: Timeout_0":n(e[12],1e3,65535)?"213: Timeout_run":n(e[13],60,3600)?"214: Reload":n(e[14],0,1e5)?"215: Bat. Capacity":i(e[15])?"216: Bat. Volt 0%":i(e[16])?"217: Bat. Volt 100%":n(e[17],1e3,2e31)?"218: Max Ringsize":n(e[18],0,1e9)?"219: mAmsec/Measure":(e.length<20&&(e[19]="0"),n(e[19],0,255)?"220: Mobile_Protocol":void 0)},getTry2Connect:()=>s,stopTry2Connect:()=>{s=!1},getBrowserName:P,version:oe}})();"undefined"!=typeof module&&void 0!==module.exports?module.exports.blx=blx:"function"==typeof define&&define.amd?define([],function(){return blx}):window.blx=blx;export{blx};